(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[984],{31877:function(e,t,n){"use strict";n.d(t,{default:function(){return o.a}});var i=n(84080),o=n.n(i)},40905:function(e,t){"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{DOMAttributeNames:function(){return i},default:function(){return s},isEqualNode:function(){return r}});let i={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",noModule:"noModule"};function o(e){let{type:t,props:n}=e,o=document.createElement(t);for(let e in n){if(!n.hasOwnProperty(e)||"children"===e||"dangerouslySetInnerHTML"===e||void 0===n[e])continue;let r=i[e]||e.toLowerCase();"script"===t&&("async"===r||"defer"===r||"noModule"===r)?o[r]=!!n[e]:o.setAttribute(r,n[e])}let{children:r,dangerouslySetInnerHTML:s}=n;return s?o.innerHTML=s.__html||"":r&&(o.textContent="string"==typeof r?r:Array.isArray(r)?r.join(""):""),o}function r(e,t){if(e instanceof HTMLElement&&t instanceof HTMLElement){let n=t.getAttribute("nonce");if(n&&!e.getAttribute("nonce")){let i=t.cloneNode(!0);return i.setAttribute("nonce",""),i.nonce=n,n===e.nonce&&e.isEqualNode(i)}}return e.isEqualNode(t)}function s(){return{mountedInstances:new Set,updateHead:e=>{let t={};e.forEach(e=>{if("link"===e.type&&e.props["data-optimized-fonts"]){if(document.querySelector('style[data-href="'+e.props["data-href"]+'"]'))return;e.props.href=e.props["data-href"],e.props["data-href"]=void 0}let n=t[e.type]||[];n.push(e),t[e.type]=n});let i=t.title?t.title[0]:null,o="";if(i){let{children:e}=i.props;o="string"==typeof e?e:Array.isArray(e)?e.join(""):""}o!==document.title&&(document.title=o),["meta","base","link","style","script"].forEach(e=>{n(e,t[e]||[])})}}}n=(e,t)=>{let n=document.getElementsByTagName("head")[0],i=n.querySelector("meta[name=next-head-count]"),s=Number(i.content),a=[];for(let t=0,n=i.previousElementSibling;t<s;t++,n=(null==n?void 0:n.previousElementSibling)||null){var u;(null==n?void 0:null==(u=n.tagName)?void 0:u.toLowerCase())===e&&a.push(n)}let d=t.map(o).filter(e=>{for(let t=0,n=a.length;t<n;t++)if(r(a[t],e))return a.splice(t,1),!1;return!0});a.forEach(e=>{var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),d.forEach(e=>n.insertBefore(e,i)),i.content=(s-a.length+d.length).toString()},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},49189:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cancelIdleCallback:function(){return i},requestIdleCallback:function(){return n}});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},i="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84080:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return w},handleClientScriptLoad:function(){return y},initScriptLoader:function(){return m}});let i=n(99920),o=n(41452),r=n(57437),s=i._(n(54887)),a=o._(n(2265)),u=n(36590),d=n(40905),l=n(49189),c=new Map,h=new Set,g=["onLoad","onReady","dangerouslySetInnerHTML","children","onError","strategy","stylesheets"],f=e=>{if(s.default.preinit){e.forEach(e=>{s.default.preinit(e,{as:"style"})});return}if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)})}},p=e=>{let{src:t,id:n,onLoad:i=()=>{},onReady:o=null,dangerouslySetInnerHTML:r,children:s="",strategy:a="afterInteractive",onError:u,stylesheets:l}=e,p=n||t;if(p&&h.has(p))return;if(c.has(t)){h.add(p),c.get(t).then(i,u);return}let y=()=>{o&&o(),h.add(p)},m=document.createElement("script"),I=new Promise((e,t)=>{m.addEventListener("load",function(t){e(),i&&i.call(this,t),y()}),m.addEventListener("error",function(e){t(e)})}).catch(function(e){u&&u(e)});for(let[n,i]of(r?(m.innerHTML=r.__html||"",y()):s?(m.textContent="string"==typeof s?s:Array.isArray(s)?s.join(""):"",y()):t&&(m.src=t,c.set(t,I)),Object.entries(e))){if(void 0===i||g.includes(n))continue;let e=d.DOMAttributeNames[n]||n.toLowerCase();m.setAttribute(e,i)}"worker"===a&&m.setAttribute("type","text/partytown"),m.setAttribute("data-nscript",a),l&&f(l),document.body.appendChild(m)};function y(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,l.requestIdleCallback)(()=>p(e))}):p(e)}function m(e){e.forEach(y),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");h.add(t)})}function I(e){let{id:t,src:n="",onLoad:i=()=>{},onReady:o=null,strategy:d="afterInteractive",onError:c,stylesheets:g,...f}=e,{updateScripts:y,scripts:m,getIsSsr:I,appDir:w,nonce:S}=(0,a.useContext)(u.HeadManagerContext),v=(0,a.useRef)(!1);(0,a.useEffect)(()=>{let e=t||n;v.current||(o&&e&&h.has(e)&&o(),v.current=!0)},[o,t,n]);let A=(0,a.useRef)(!1);if((0,a.useEffect)(()=>{!A.current&&("afterInteractive"===d?p(e):"lazyOnload"===d&&("complete"===document.readyState?(0,l.requestIdleCallback)(()=>p(e)):window.addEventListener("load",()=>{(0,l.requestIdleCallback)(()=>p(e))})),A.current=!0)},[e,d]),("beforeInteractive"===d||"worker"===d)&&(y?(m[d]=(m[d]||[]).concat([{id:t,src:n,onLoad:i,onReady:o,onError:c,...f}]),y(m)):I&&I()?h.add(t||n):I&&!I()&&p(e)),w){if(g&&g.forEach(e=>{s.default.preinit(e,{as:"style"})}),"beforeInteractive"===d)return n?(s.default.preload(n,f.integrity?{as:"script",integrity:f.integrity,nonce:S}:{as:"script",nonce:S}),(0,r.jsx)("script",{nonce:S,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([n,{...f,id:t}])+")"}})):(f.dangerouslySetInnerHTML&&(f.children=f.dangerouslySetInnerHTML.__html,delete f.dangerouslySetInnerHTML),(0,r.jsx)("script",{nonce:S,dangerouslySetInnerHTML:{__html:"(self.__next_s=self.__next_s||[]).push("+JSON.stringify([0,{...f,id:t}])+")"}}));"afterInteractive"===d&&n&&s.default.preload(n,f.integrity?{as:"script",integrity:f.integrity,nonce:S}:{as:"script",nonce:S})}return null}Object.defineProperty(I,"__nextScript",{value:!0});let w=I;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},15196:function(e){e.exports={style:{fontFamily:"'__Mulish_badc8e', '__Mulish_Fallback_badc8e'",fontStyle:"normal"},className:"__className_badc8e",variable:"__variable_badc8e"}},30244:function(e){e.exports={style:{fontFamily:"'__Poppins_6bee3b', '__Poppins_Fallback_6bee3b'",fontStyle:"normal"},className:"__className_6bee3b",variable:"__variable_6bee3b"}},11218:function(e,t,n){"use strict";let i,o,r;/*! js-cookie v3.0.5 | MIT */function s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}n.d(t,{V:function(){return nk}});var a,u,d,l,c,h,g,f,p,y,m,I,w,S,v,A,C,b,k,E,_,P,T,O,x,R,L,N,M,U,K,D,V,G,$=function e(t,n){function i(e,i,o){if("undefined"!=typeof document){"number"==typeof(o=s({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var a in o)o[a]&&(r+="; "+a,!0!==o[a]&&(r+="="+o[a].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+r}}return Object.create({set:i,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},o=0;o<n.length;o++){var r=n[o].split("="),s=r.slice(1).join("=");try{var a=decodeURIComponent(r[0]);if(i[a]=t.read(s,a),e===a)break}catch(e){}}return e?i[e]:i}},remove:function(e,t){i(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class j{constructor(e={}){let{path:t,domain:n,expires:i,sameSite:o,secure:r}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?i:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||r,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!o||!["strict","lax","none"].includes(o))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===o&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=o}}async setItem(e,t){$.set(e,t,this.getData())}async getItem(e){return $.get(e)??null}async removeItem(e){$.remove(e,this.getData())}async clear(){let e=Object.keys($.get()).map(e=>this.removeItem(e));await Promise.all(e)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}(k=a||(a={})).NoEndpointId="NoEndpointId",k.PlatformNotSupported="PlatformNotSupported",k.Unknown="Unknown",k.NetworkError="NetworkError";class q extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:i,metadata:o}){if(super(e),this.name=t,this.underlyingError=i,this.recoverySuggestion=n,o){let{extendedRequestId:e,httpStatusCode:t,requestId:n}=o;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:n}}this.constructor=q,Object.setPrototypeOf(this,q.prototype)}}class W extends q{constructor(){super({name:a.PlatformNotSupported,message:"Function not supported on current platform"})}}class F{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new W;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new W;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new W;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new W;this.storage.clear()}}(E=u||(u={})).DEBUG="DEBUG",E.ERROR="ERROR",E.INFO="INFO",E.WARN="WARN",E.VERBOSE="VERBOSE",E.NONE="NONE";let B={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class z{constructor(e,t=u.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){let e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e&&(this._config=e),this._config}_log(e,...t){let n=this.level;z.LOG_LEVEL&&(n=z.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(n=window.LOG_LEVEL);let i=B[n];if(!(B[e]>=i))return;let o=console.log.bind(console);e===u.ERROR&&console.error&&(o=console.error.bind(console)),e===u.WARN&&console.warn&&(o=console.warn.bind(console)),z.BIND_ALL_LOG_LEVELS&&(e===u.INFO&&console.info&&(o=console.info.bind(console)),e===u.DEBUG&&console.debug&&(o=console.debug.bind(console)));let r=`[${e}] ${this._ts()} ${this.name}`,s="";if(1===t.length&&"string"==typeof t[0])o(s=`${r} - ${t[0]}`);else if(1===t.length)s=`${r} ${t[0]}`,o(r,t[0]);else if("string"==typeof t[0]){let e=t.slice(1);1===e.length&&(e=e[0]),s=`${r} - ${t[0]} ${e}`,o(`${r} - ${t[0]}`,e)}else s=`${r} ${t}`,o(r,t);for(let e of this._pluggables){let t={message:s,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(u.INFO,...e)}info(...e){this._log(u.INFO,...e)}warn(...e){this._log(u.WARN,...e)}error(...e){this._log(u.ERROR,...e)}debug(...e){this._log(u.DEBUG,...e)}verbose(...e){this._log(u.VERBOSE,...e)}addPluggable(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}z.LOG_LEVEL=null,z.BIND_ALL_LOG_LEVELS=!1;class H{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}let J=new z("CoreStorageUtils"),Q=()=>{try{if("undefined"!=typeof window&&window.localStorage)return window.localStorage}catch(e){J.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new H},Y=()=>{try{if("undefined"!=typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw Error("sessionStorage is not defined")}catch(e){return J.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new H}};class X extends F{constructor(){super(Q())}}class Z extends F{constructor(){super(Y())}}class ee{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new W;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}class et extends ee{constructor(){super(Y())}}let en=new X;new Z,new et,new F(new H);let ei="undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default",eo=new z("Hub");class er{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){let n=this.listeners.get(e);if(!n){eo.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...n.filter(({callback:e})=>e!==t)])}dispatch(e,t,n,i){"string"==typeof e&&this.protectedChannels.indexOf(e)>-1&&i!==ei&&eo.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`);let o={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(o)}catch(e){eo.error(e)}}listen(e,t,n="noname"){if("function"!=typeof t)throw new q({name:"NoHubcallbackProvidedException",message:"No callback supplied to Hub"});let i=this.listeners.get(e);return i||(i=[],this.listeners.set(e,i)),i.push({name:n,callback:t}),()=>{this._remove(e,t)}}_toListeners(e){let{channel:t,payload:n}=e,i=this.listeners.get(t);i&&i.forEach(i=>{eo.debug(`Dispatching to ${t} with `,n);try{i.callback(e)}catch(e){eo.error(e)}})}}let es=new er("__default__");new er("internal-hub");let ea=e=>{for(let t of Reflect.ownKeys(e)){let n=e[t];(n&&"object"==typeof n||"function"==typeof n)&&ea(n)}return Object.freeze(e)},eu=Symbol("oauth-listener"),ed=new z("parseAWSExports"),el={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},ec=(e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new q({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:i,aws_appsync_region:o,aws_bots_config:r,aws_cognito_identity_pool_id:s,aws_cognito_sign_up_verification_method:a,aws_cognito_mfa_configuration:u,aws_cognito_mfa_types:d,aws_cognito_password_protection_settings:l,aws_cognito_verification_mechanisms:c,aws_cognito_signup_attributes:h,aws_cognito_social_providers:g,aws_cognito_username_attributes:f,aws_mandatory_sign_in:p,aws_mobile_analytics_app_id:y,aws_mobile_analytics_app_region:m,aws_user_files_s3_bucket:I,aws_user_files_s3_bucket_region:w,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:S,aws_user_pools_id:v,aws_user_pools_web_client_id:A,geo:C,oauth:b,predictions:k,aws_cloud_logic_custom:E,Notifications:_,modelIntrospection:P}=e,T={};y&&(T.Analytics={Pinpoint:{appId:y,region:m}});let{InAppMessaging:O,Push:x}=_??{};if(O?.AWSPinpoint||x?.AWSPinpoint){if(O?.AWSPinpoint){let{appId:e,region:t}=O.AWSPinpoint;T.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(x?.AWSPinpoint){let{appId:e,region:t}=x.AWSPinpoint;T.Notifications={...T.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(r)&&(T.Interactions={LexV1:Object.fromEntries(r.map(e=>[e.name,e]))}),i){let e=el[n];e||ed.debug(`Invalid authentication type ${n}. Falling back to IAM.`),T.API={GraphQL:{endpoint:i,apiKey:t,region:o,defaultAuthMode:e??"iam"}},P&&(T.API.GraphQL.modelIntrospection=P)}let R=u?{status:u&&u.toLowerCase(),totpEnabled:d?.includes("TOTP")??!1,smsEnabled:d?.includes("SMS")??!1}:void 0,L=l?{minLength:l.passwordPolicyMinLength,requireLowercase:l.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:l.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:l.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:l.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,N=Array.from(new Set([...c??[],...h??[]])).reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),M=f?.includes("EMAIL")??!1,U=f?.includes("PHONE_NUMBER")??!1;(s||v)&&(T.Auth={Cognito:{identityPoolId:s,allowGuestAccess:"enable"!==p,signUpVerificationMethod:a,userAttributes:N,userPoolClientId:A,userPoolId:v,mfa:R,passwordFormat:L,loginWith:{username:!(M||U),email:M,phone:U}}});let K=!!b&&Object.keys(b).length>0,D=!!g&&g.length>0;if(T.Auth&&K&&(T.Auth.Cognito.loginWith={...T.Auth.Cognito.loginWith,oauth:{...eg(b),...D&&{providers:ef(g)}}}),I&&(T.Storage={S3:{bucket:I,region:w,dangerouslyConnectToHttpEndpointForTesting:S}}),C){let{amazon_location_service:e}=C;T.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(E&&(T.API={...T.API,REST:E.reduce((e,t)=>{let{name:n,endpoint:i,region:o,service:r}=t;return{...e,[n]:{endpoint:i,...r?{service:r}:void 0,...o?{region:o}:void 0}}},{})}),k){let{VoiceId:e}=k?.convert?.speechGenerator?.defaults??{};T.Predictions=e?{...k,convert:{...k.convert,speechGenerator:{...k.convert.speechGenerator,defaults:{voiceId:e}}}}:k}return T},eh=e=>e?.split(",")??[],eg=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:i,responseType:o})=>({domain:e,scopes:t,redirectSignIn:eh(n),redirectSignOut:eh(i),responseType:o}),ef=e=>e.map(e=>{let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}),ep={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"},ey={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"},em=e=>Object.keys(e).some(e=>e.startsWith("aws_"))?ec(e):!function(e){let{version:t}=e;return!!t&&t.startsWith("1")}(e)?e:function(e){let t={};if(e.storage&&(t.Storage=function(e){if(!e)return;let{bucket_name:t,aws_region:n,buckets:i}=e;return{S3:{bucket:t,region:n,buckets:i&&function(e){let t={};return e.forEach(({name:e,bucket_name:n,aws_region:i,paths:o})=>{if(e in t)throw Error(`Duplicate friendly name found: ${e}. Name must be unique.`);let r=o?Object.entries(o).reduce((e,[t,n])=>(void 0!==n&&(e[t]=n),e),{}):void 0;t[e]={bucketName:n,region:i,paths:r}}),t}(i)}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;let{user_pool_id:t,user_pool_client_id:n,identity_pool_id:i,password_policy:o,mfa_configuration:r,mfa_methods:s,unauthenticated_identities_enabled:a,oauth:u,username_attributes:d,standard_required_attributes:l,groups:c}=e,h={Cognito:{userPoolId:t,userPoolClientId:n,groups:c}};return i&&(h.Cognito={...h.Cognito,identityPoolId:i}),o&&(h.Cognito.passwordFormat={requireLowercase:o.require_lowercase,requireNumbers:o.require_numbers,requireUppercase:o.require_uppercase,requireSpecialCharacters:o.require_symbols,minLength:o.min_length??6}),r&&(h.Cognito.mfa={status:"OPTIONAL"===r?"optional":"REQUIRED"===r?"on":"off",smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),a&&(h.Cognito.allowGuestAccess=a),u&&(h.Cognito.loginWith={oauth:{domain:u.domain,redirectSignIn:u.redirect_sign_in_uri,redirectSignOut:u.redirect_sign_out_uri,responseType:"token"===u.response_type?"token":"code",scopes:u.scopes,providers:function(e=[]){return e.reduce((e,t)=>(void 0!==ey[t]&&e.push(ey[t]),e),[])}(u.identity_providers)}}),d&&(h.Cognito.loginWith={...h.Cognito.loginWith,email:d.includes("email"),phone:d.includes("phone_number"),username:d.includes("username")}),l&&(h.Cognito.userAttributes=l.reduce((e,t)=>({...e,[t]:{required:!0}}),{})),h}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!e?.amazon_pinpoint)return;let{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;let{aws_region:t,geofence_collections:n,maps:i,search_indices:o}=e;return{LocationService:{region:t,searchIndices:o,geofenceCollections:n,maps:i}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;let{aws_region:t,default_authorization_type:n,url:i,api_key:o,model_introspection:r}=e;return{GraphQL:{endpoint:i,defaultAuthMode:ep[n],region:t,apiKey:o,modelIntrospection:r}}}(e.data)),e.custom){let n=function(e){if(!e?.events)return;let{url:t,aws_region:n,api_key:i,default_authorization_type:o}=e.events;return{Events:{endpoint:t,defaultAuthMode:ep[o],region:n,apiKey:i}}}(e.custom);n&&"Events"in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=function(e){if(!e)return;let{aws_region:t,channels:n,amazon_pinpoint_app_id:i}=e,o=n.includes("IN_APP_MESSAGING"),r=n.includes("APNS")||n.includes("FCM");if(!(o||r))return;let s={};return o&&(s.InAppMessaging={Pinpoint:{appId:i,region:t}}),r&&(s.PushNotification={Pinpoint:{appId:i,region:t}}),s}(e.notifications)),t}(e);var eI=n(11735),ew=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),eS=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ev=function(){function e(){this.state=Int32Array.from(eS),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>9007199254740991)throw Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%64>=56){for(var i=this.bufferLength;i<64;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<56;i++)t.setUint8(i,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(32),i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],r=t[3],s=t[4],a=t[5],u=t[6],d=t[7],l=0;l<64;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var c=this.temp[l-2],h=(c>>>17|c<<15)^(c>>>19|c<<13)^c>>>10,g=((c=this.temp[l-15])>>>7|c<<25)^(c>>>18|c<<14)^c>>>3;this.temp[l]=(h+this.temp[l-7]|0)+(g+this.temp[l-16]|0)}var f=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&a^~s&u)|0)+(d+(ew[l]+this.temp[l]|0)|0)|0,p=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;d=u,u=a,a=s,s=r+f|0,r=o,o=i,i=n,n=f+p|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=r,t[4]+=s,t[5]+=a,t[6]+=u,t[7]+=d},e}(),eA=n(9109).lW,eC=void 0!==eA&&eA.from?function(e){return eA.from(e,"utf8")}:e=>new TextEncoder().encode(e);function eb(e){return e instanceof Uint8Array?e:"string"==typeof e?eC(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}!function(){function e(e){this.secret=e,this.hash=new ev,this.reset()}e.prototype.update=function(e){if(("string"==typeof e?0!==e.length:0!==e.byteLength)&&!this.error)try{this.hash.update(eb(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,eI.mG)(this,void 0,void 0,function(){return(0,eI.Jh)(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new ev,this.secret){this.outer=new ev;var e=function(e){var t=eb(e);if(t.byteLength>64){var n=new ev;n.update(t),t=n.digest()}var i=new Uint8Array(64);return i.set(t),i}(this.secret),t=new Uint8Array(64);t.set(e);for(var n=0;n<64;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}}}();let ek={},eE={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),ek[e]=t,eE[t]=e}let e_=new z("Auth");class eP{configure(e,t){this.authConfig=e,this.authOptions=t,e&&e.Cognito?.userPoolEndpoint&&e_.warn(eT("Amazon Cognito User Pool")),e&&e.Cognito?.identityPoolEndpoint&&e_.warn(eT("Amazon Cognito Identity Pool"))}async fetchAuthSession(e={}){let t,n;let i=await this.getTokens(e);return i?(n=i.accessToken?.payload?.sub,t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:i,authenticated:!0,forceRefresh:e.forceRefresh})):t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh}),{tokens:i,credentials:t?.credentials,identityId:t?.identityId,userSub:n}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(e){return await this.authOptions?.tokenProvider?.getTokens(e)??void 0}}let eT=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`;class eO{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new eP}configure(e,t){let n=em(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=ea(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),es.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",ei),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[eu](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}}let ex=new eO;(_=d||(d={})).WebUnknown="0",_.React="1",_.NextJs="2",_.Angular="3",_.VueJs="4",_.Nuxt="5",_.Svelte="6",_.ServerSideUnknown="100",_.ReactSSR="101",_.NextJsSSR="102",_.AngularSSR="103",_.VueJsSSR="104",_.NuxtSSR="105",_.SvelteSSR="106",_.ReactNative="201",_.Expo="202",(P=l||(l={})).AI="ai",P.API="api",P.Auth="auth",P.Analytics="analytics",P.DataStore="datastore",P.Geo="geo",P.InAppMessaging="inappmessaging",P.Interactions="interactions",P.Predictions="predictions",P.PubSub="pubsub",P.PushNotification="pushnotification",P.Storage="storage",(T=c||(c={})).CreateConversation="1",T.GetConversation="2",T.ListConversations="3",T.DeleteConversation="4",T.SendMessage="5",T.ListMessages="6",T.OnMessage="7",T.Generation="8",T.UpdateConversation="9",(O=h||(h={})).Record="1",O.IdentifyUser="2",(x=g||(g={})).GraphQl="1",x.Get="2",x.Post="3",x.Put="4",x.Patch="5",x.Del="6",x.Head="7",(R=f||(f={})).SignUp="1",R.ConfirmSignUp="2",R.ResendSignUpCode="3",R.SignIn="4",R.FetchMFAPreference="6",R.UpdateMFAPreference="7",R.SetUpTOTP="10",R.VerifyTOTPSetup="11",R.ConfirmSignIn="12",R.DeleteUserAttributes="15",R.DeleteUser="16",R.UpdateUserAttributes="17",R.FetchUserAttributes="18",R.ConfirmUserAttribute="22",R.SignOut="26",R.UpdatePassword="27",R.ResetPassword="28",R.ConfirmResetPassword="29",R.FederatedSignIn="30",R.RememberDevice="32",R.ForgetDevice="33",R.FetchDevices="34",R.SendUserAttributeVerificationCode="35",R.SignInWithRedirect="36",R.StartWebAuthnRegistration="37",R.CompleteWebAuthnRegistration="38",R.ListWebAuthnCredentials="39",R.DeleteWebAuthnCredential="40",(L=p||(p={})).Subscribe="1",L.GraphQl="2",(N=y||(y={})).SearchByText="0",N.SearchByCoordinates="1",N.SearchForSuggestions="2",N.SearchByPlaceId="3",N.SaveGeofences="4",N.GetGeofence="5",N.ListGeofences="6",N.DeleteGeofences="7",(M=m||(m={})).SyncMessages="1",M.IdentifyUser="2",M.NotifyMessageInteraction="3",(I||(I={})).None="0",(U=w||(w={})).Convert="1",U.Identify="2",U.Interpret="3",(S||(S={})).Subscribe="1",(K=v||(v={})).InitializePushNotifications="1",K.IdentifyUser="2",(D=A||(A={})).UploadData="1",D.DownloadData="2",D.List="3",D.Copy="4",D.Remove="5",D.GetProperties="6",D.GetUrl="7",D.GetDataAccess="8",D.ListCallerAccessGrants="9";let eR="6.15.0";var eL=n(25566);let eN=()=>"undefined"!=typeof global,eM=()=>"undefined"!=typeof window,eU=()=>"undefined"!=typeof document,eK=()=>void 0!==eL,eD=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));var eV=n(25566),eG=n(25566),e$=n(25566);let ej=[{platform:d.Expo,detectionMethod:function(){return eN()&&void 0!==global.expo}},{platform:d.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:d.NextJs,detectionMethod:function(){return eM()&&window.next&&"object"==typeof window.next}},{platform:d.Nuxt,detectionMethod:function(){return eM()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:d.Angular,detectionMethod:function(){let e=!!(eU()&&document.querySelector("[ng-version]")),t=!!(eM()&&void 0!==window.ng);return e||t}},{platform:d.React,detectionMethod:function(){let e=e=>e.startsWith("_react")||e.startsWith("__react");return eU()&&Array.from(document.querySelectorAll("[id]")).some(t=>Object.keys(t).find(e))}},{platform:d.VueJs,detectionMethod:function(){return eM()&&eD(window,"__VUE")}},{platform:d.Svelte,detectionMethod:function(){return eM()&&eD(window,"__SVELTE")}},{platform:d.WebUnknown,detectionMethod:function(){return eM()}},{platform:d.NextJsSSR,detectionMethod:function(){return eN()&&(eD(global,"__next")||eD(global,"__NEXT"))}},{platform:d.NuxtSSR,detectionMethod:function(){return eN()&&void 0!==global.__NUXT_PATHS__}},{platform:d.ReactSSR,detectionMethod:function(){return eK()&&void 0!==eV.env&&!!Object.keys(eV.env).find(e=>e.includes("react"))}},{platform:d.VueJsSSR,detectionMethod:function(){return eN()&&eD(global,"__VUE")}},{platform:d.AngularSSR,detectionMethod:function(){return eK()&&"object"==typeof e$.env&&e$.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:d.SvelteSSR,detectionMethod:function(){return eK()&&void 0!==eG.env&&!!Object.keys(eG.env).find(e=>e.includes("svelte"))}}],eq=[],eW=!1,eF=()=>{if(!i){if(i=ej.find(e=>e.detectionMethod())?.platform||d.ServerSideUnknown,eW)for(;eq.length;)eq.pop()?.();else eq.forEach(e=>{e()});ez(d.ServerSideUnknown,10),ez(d.WebUnknown,10)}return i},eB=e=>{eW||eq.push(e)};function ez(e,t){i!==e||eW||setTimeout(()=>{i=void 0,eW=!0,setTimeout(eF,1e3)},t)}let eH={},eJ=(e,t)=>eH[e]?.[t]?.additionalDetails,eQ="aws-amplify",eY=e=>e.replace(/\+.*/,"");class eX{constructor(){this.userAgent=`${eQ}/${eY(eR)}`}get framework(){return eF()}get isReactNative(){return this.framework===d.ReactNative||this.framework===d.Expo}observeFrameworkChanges(e){eB(e)}}new eX;let eZ=({category:e,action:t}={})=>{let n=[[eQ,eY(eR)]];if(e&&n.push([e,t]),n.push(["framework",eF()]),e&&t){let i=eJ(e,t);i&&i.forEach(e=>{n.push(e)})}return n},e0=e=>eZ(e).map(([e,t])=>e&&t?`${e}/${t}`:e).join(" "),e1=e=>{let{headers:t,statusCode:n}=e;return{...e2(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},e2=e=>"object"==typeof e?.$metadata,e3=async e=>{if(!e||e.statusCode<300)return;let t=await e5(e),n=(e=>{let[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError");return Object.assign(Error(t.message??t.Message??"Unknown error"),{name:n,$metadata:e1(e)})},e5=async e=>{if(!e.body)throw Error("Missing response payload");return Object.assign(await e.body.json(),{$metadata:e1(e)})},e4=(e,t,n,i)=>async(o,r)=>{let s={...i,...o},a=await s.endpointResolver(s,r),u=await t(r,a);return n(await e(u,{...s}))},e6=3,e8="amz-sdk-invocation-id",e7=e=>{let t=(function(e=3e5){return t=>{let n=2**t*100+100*Math.random();return!(n>e)&&n}})(3e5)(e);return!1===t?3e5:t},e9=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],te=e=>!!e&&e9.includes(e),tt=e=>async(t,n)=>{let i=n??await e(t)??void 0,o=i?.code||i?.name,r=t?.statusCode;return{retryable:tr(n)||to(r,o)||te(o)||ts(r,o)}},tn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],ti=["TimeoutError","RequestTimeout","RequestTimeoutException"],to=(e,t)=>429===e||!!t&&tn.includes(t),tr=e=>[a.NetworkError,"ERR_NETWORK"].includes(e?.name),ts=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&ti.includes(t),ta="cognito-identity",tu={service:ta,retryDecider:tt(e3),computeDelay:e7,cache:"no-store"},td=(e,t)=>{let n,i;if(t?.aborted)return Promise.resolve();let o=new Promise(t=>{i=t,n=setTimeout(t,e)});return t?.addEventListener("abort",function e(o){clearTimeout(n),t?.removeEventListener("abort",e),i()}),o},tl=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})};var tc={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let th=new Uint8Array(16),tg=[];for(let e=0;e<256;++e)tg.push((e+256).toString(16).slice(1));let tf=function(e,t,n){if(tc.randomUUID&&!t&&!e)return tc.randomUUID();let i=(e=e||{}).random||(e.rng||function(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(th)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return tg[e[t+0]]+tg[e[t+1]]+tg[e[t+2]]+tg[e[t+3]]+"-"+tg[e[t+4]]+tg[e[t+5]]+"-"+tg[e[t+6]]+tg[e[t+7]]+"-"+tg[e[t+8]]+tg[e[t+9]]+"-"+tg[e[t+10]]+tg[e[t+11]]+tg[e[t+12]]+tg[e[t+13]]+tg[e[t+14]]+tg[e[t+15]]}(i)},tp=(e,t)=>(n,i)=>{let o={},r=t=>e(t,i);for(let e=t.length-1;e>=0;e--)r=(0,t[e])(i)(r,o);return r(n)},ty=e=>{let t;return()=>(t||(t=e()),t)},tm=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),tI=tp(async({url:e,method:t,headers:n,body:i},{abortSignal:o,cache:r,withCrossDomainCredentials:s})=>{let u;try{u=await fetch(e,{method:t,headers:n,body:tm(t)?i:void 0,signal:o,cache:r,credentials:s?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new q({name:a.NetworkError,message:"A network error has occurred.",underlyingError:e});throw e}let d={};u.headers?.forEach((e,t)=>{d[t.toLowerCase()]=e});let l={statusCode:u.status,headers:d,body:null},c=Object.assign(u.body??{},{text:ty(()=>u.text()),blob:ty(()=>u.blob()),json:ty(()=>u.json())});return{...l,body:c}},[({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(i){if(0===t.trim().length)return await n(i);{let o=e.toLowerCase();return i.headers[o]=i.headers[o]?`${i.headers[o]} ${t}`:t,await n(i)}},()=>e=>async function(t){return t.headers[e8]||(t.headers[e8]=tf()),e(t)},({maxAttempts:e=e6,retryDecider:t,computeDelay:n,abortSignal:i})=>{if(e<1)throw Error("maxAttempts must be greater than 0");return(o,r)=>async function(s){let a,u;let d=r.attemptsCount??0,l=()=>{if(u)return tl(u,d),u;throw tl(a,d),a};for(;!i?.aborted&&d<e;){try{u=await o(s),a=void 0}catch(e){a=e,u=void 0}d=(r.attemptsCount??0)>d?r.attemptsCount??0:d+1,r.attemptsCount=d;let{isCredentialsExpiredError:c,retryable:h}=await t(u,a,r);if(!h)return l();if(r.isCredentialsExpired=!!c,!i?.aborted&&d<e){let e=n(d);await td(e,i)}}if(!i?.aborted)return l();throw Error("Request aborted.")}},({maxAttempts:e=e6})=>(t,n)=>async function(i){let o=n.attemptsCount??0;return i.headers["amz-sdk-request"]=`attempt=${o+1}; max=${e}`,t(i)}]),tw=tp(tI,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),tS=e=>(t,n)=>tA(n,tv(e),JSON.stringify(t)),tv=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),tA=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),tC=e=>e4(tw,tS("GetCredentialsForIdentity"),tb,{...tu,...e,userAgentValue:e0()}),tb=async e=>{if(e.statusCode>=300)throw await e3(e);let t=await e5(e);return{IdentityId:t.IdentityId,Credentials:tk(t.Credentials),$metadata:e1(e)}},tk=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(1e3*e)}),tE=()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new q({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},t_={convert(e,t){let n=e;return t?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),tE()(n)}},tP=(e,t=q)=>(n,i,o)=>{let{message:r,recoverySuggestion:s}=e[i];if(!n)throw new t({name:i,message:o?`${r} ${o}`:r,recoverySuggestion:s})};(V=C||(C={})).AuthTokenConfigException="AuthTokenConfigException",V.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",V.AuthUserPoolException="AuthUserPoolException",V.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",V.OAuthNotConfigureException="OAuthNotConfigureException";let tT=tP({[C.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[C.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[C.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[C.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[C.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}});function tO(e){tT(!!e&&!!e.userPoolId&&!!e.userPoolClientId,C.AuthUserPoolException)}function tx(e){tT(!!e?.identityPoolId,C.InvalidIdentityPoolIdException)}function tR(e){let t=e.split(".");if(3!==t.length)throw Error("Invalid token");try{let n=t[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(t_.convert(n).split("").map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),o=JSON.parse(i);return{toString:()=>e,payload:o}}catch(e){throw Error("Invalid token payload")}}class tL extends q{constructor(e){super(e),this.constructor=tL,Object.setPrototypeOf(this,tL.prototype)}}function tN(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new tL({name:a.Unknown,message:"An unknown error has occurred.",underlyingError:e})}function tM(e){if(!e||!e.includes(":"))throw new tL({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}let tU="UserUnAuthenticatedException";new tL({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new tL({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new tL({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),new tL({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});let tK=new tL({name:"TokenRefreshException",message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),tD=new tL({name:tU,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."}),tV={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function tG(e){return e?.accessToken||e?.idToken}let t$={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},tj={partitions:[t$,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},tq=e=>{let{partitions:t}=tj;for(let{regions:n,outputs:i,regionRegex:o}of t){let t=new RegExp(o);if(n.includes(e)||t.test(e))return i.dnsSuffix}return t$.outputs.dnsSuffix},tW=URL,tF=({region:e})=>({url:new tW(`https://${ta}.${e}.${tq(e)}`)}),tB=({endpointOverride:e})=>t=>e?{url:new tW(e)}:tF(t),tz=e=>e4(tw,tS("GetId"),tH,{...tu,...e,userAgentValue:e0()}),tH=async e=>{if(e.statusCode>=300)throw await e3(e);return{IdentityId:(await e5(e)).IdentityId,$metadata:e1(e)}};function tJ(e){let t=tR(e).payload.iss,n={};if(!t)throw new tL({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}async function tQ({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});let i=await n.loadIdentityId();if(i)return i.id;let o=e?.idToken?tJ(e.idToken.toString()):{},r=await tY(o,t);return n.storeIdentityId({id:r,type:e?"primary":"guest"}),r}async function tY(e,t){let n;let i=t?.identityPoolId,o=tM(i),r=tz({endpointResolver:tB({endpointOverride:t.identityPoolEndpoint})});try{n=(await r({region:o},{IdentityPoolId:i,Logins:e})).IdentityId}catch(e){throw tN(e),new tL(e)}if(!n)throw new tL({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return n}let tX=new z("CognitoCredentialsProvider");class tZ{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){tX.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){tX.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let t=e.authenticated,{tokens:n}=e,{authConfig:i}=e;try{tx(i?.Cognito)}catch{return}if(!t&&!i.Cognito.allowGuestAccess)return;let{forceRefresh:o}=e,r=this.hasTokenChanged(n),s=await tQ({tokens:n,authConfig:i.Cognito,identityIdStore:this._identityIdStore});return((o||r)&&this.clearCredentials(),t)?(!function(e){if(!e||!e.idToken)throw new tL({name:tU,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}(n),this.credsForOIDCTokens(i.Cognito,n,s)):this.getGuestCredentials(s,i.Cognito)}async getGuestCredentials(e,t){let n;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return tX.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let i=tM(t.identityPoolId),o=tC({endpointResolver:tB({endpointOverride:t.identityPoolEndpoint})});try{n=await o({region:i},{IdentityId:e})}catch(e){throw tN(e),new tL(e)}if(n?.Credentials?.AccessKeyId&&n?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let t={credentials:{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration},identityId:e};return n.IdentityId&&(t.identityId=n.IdentityId,this._identityIdStore.storeIdentityId({id:n.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new tL({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){let i;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return tX.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let o=t.idToken?tJ(t.idToken.toString()):{},r=tM(e.identityPoolId),s=tC({endpointResolver:tB({endpointOverride:e.identityPoolEndpoint})});try{i=await s({region:r},{IdentityId:n,Logins:o})}catch(e){throw tN(e),new tL(e)}if(i?.Credentials?.AccessKeyId&&i?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let e={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:n};return i.IdentityId&&(e.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}throw new tL({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}let t0={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};(b||(b={})).InvalidAuthTokens="InvalidAuthTokens";let t1=tP({[b.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}}),t2="CognitoIdentityServiceProvider";class t3{getKeyValueStorage(){if(!this.keyValueStorage)throw new tL({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new tL({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});let n=tR(t),i=await this.getKeyValueStorage().getItem(e.idToken),o=i?tR(i):void 0,r=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,s=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",a=Number.parseInt(s),u=await this.getKeyValueStorage().getItem(e.signInDetails),d={accessToken:n,idToken:o,refreshToken:r,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:a,username:await this.getLastAuthUser()};return u&&(d.signInDetails=JSON.parse(u)),d}catch(e){return null}}async storeTokens(e){t1(void 0!==e,b.InvalidAuthTokens);let t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){let t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),i=await this.getKeyValueStorage().getItem(t.deviceGroupKey),o=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return o&&i&&n?{deviceKey:n,deviceGroupKey:i,randomPassword:o}:null}async clearDeviceMetadata(e){let t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){tO(this.authConfig?.Cognito);let t=e??await this.getLastAuthUser();return t5(t2,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){tO(this.authConfig?.Cognito);let e=this.authConfig.Cognito.userPoolClientId;return`${t2}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){let{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){let{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}let t5=(e,t)=>t4(t0)(`${e}`,t);function t4(e){let t=Object.values({...e});return(e,n)=>t.reduce((t,i)=>({...t,[i]:`${e}.${n}.${i}`}),{})}let t6={identityId:"identityId"},t8=new z("DefaultIdentityIdStore");class t7{setAuthConfig(e){tx(e.Cognito),this.authConfig=e,this._authKeys=t9("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){tx(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);if(e)return this._hasGuestIdentityId=!0,{id:e,type:"guest"};return null}}catch(e){return t8.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){tx(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}let t9=(e,t)=>t4(t6)(`com.amplify.${e}`,t),ne=new tZ(new t7(en)),nt=e=>(t,n)=>ni(n,nn(e),JSON.stringify(t)),nn=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),ni=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),no=()=>async e=>{if(e.statusCode>=300){let t=await e3(e);throw tN(t),new tL({name:t.name,message:t.message,metadata:t.$metadata})}return e5(e)},nr=tp(tI,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),ns="cognito-idp",na={service:ns,retryDecider:tt(e3),computeDelay:e7,userAgentValue:e0(),cache:"no-store"},nu=e=>e4(nr,nt("InitiateAuth"),no(),{...na,...e}),nd=({region:e})=>({url:new tW(`https://${ns}.${e}.${tq(e)}`)}),nl=({endpointOverride:e})=>t=>e?{url:new tW(e)}:nd(t),nc=(G=async({tokens:e,authConfig:t,username:n})=>{tO(t?.Cognito);let{userPoolId:i,userPoolClientId:o,userPoolEndpoint:r}=t.Cognito,s=function(e){let t=e?.split("_")[0];if(!e||0>e.indexOf("_")||!t||"string"!=typeof t)throw new tL({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}(i);!function(e){if(tG(e)&&!e?.refreshToken)throw tK;if(!(tG(e)&&e?.refreshToken))throw tD}(e);let a=e.refreshToken,u={REFRESH_TOKEN:a};e.deviceMetadata?.deviceKey&&(u.DEVICE_KEY=e.deviceMetadata.deviceKey);let d=function({username:e,userPoolId:t,userPoolClientId:n}){if("undefined"==typeof window)return;let i=window.AmazonCognitoAdvancedSecurityData;if(void 0===i)return;let o=i.getData(e,t,n);return o?{EncodedData:o}:{}}({username:n,userPoolId:i,userPoolClientId:o}),l=nu({endpointResolver:nl({endpointOverride:r})}),{AuthenticationResult:c}=await l({region:s},{ClientId:o,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:u,UserContextData:d}),h=tR(c?.AccessToken??""),g=c?.IdToken?tR(c.IdToken):void 0,{iat:f}=h.payload;if(!f)throw new tL({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:h,idToken:g,clockDrift:1e3*f-new Date().getTime(),refreshToken:a,username:n}},async(...e)=>r||(r=new Promise((t,n)=>{G(...e).then(e=>{t(e)}).catch(e=>{n(e)}).finally(()=>{r=void 0})}))),nh=()=>"undefined"!=typeof window&&void 0!==window.document;function ng({expiresAt:e,clockDrift:t,tolerance:n=5e3}){return Date.now()+t+n>e}let nf="amplify-signin-with-hostedUI",np="CognitoIdentityServiceProvider";class ny{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){tO(this.cognitoConfig);let e=nm(np,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){tO(this.cognitoConfig);let e=nm(np,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(nf),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){tO(this.cognitoConfig);let e=nm(np,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){tO(this.cognitoConfig);let t=nm(np,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){tO(this.cognitoConfig);let e=nm(np,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){tO(this.cognitoConfig);let t=nm(np,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){tO(this.cognitoConfig);let e=nm(np,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)==="true"}async storeOAuthInFlight(e){tO(this.cognitoConfig);let t=nm(np,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){tO(this.cognitoConfig);let e=nm(np,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(nf),[n,i]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===i}}async storeOAuthSignIn(e,t=!1){tO(this.cognitoConfig);let n=nm(np,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}let nm=(e,t)=>t4(tV)(e,t),nI=new ny(en),nw=[],nS=e=>{nw.push(e)};class nv{constructor(){this.waitForInflightOAuth=nh()?async()=>await nI.loadOAuthInFlight()?(this.inflightPromise||(this.inflightPromise=new Promise((e,t)=>{nS(e)})),this.inflightPromise):void 0:async()=>{}}setAuthConfig(e){nI.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new tL({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new tL({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{tO(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();let n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;let i=!!t?.idToken&&ng({expiresAt:(t.idToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0}),o=ng({expiresAt:(t.accessToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0});return(e?.forceRefresh||i||o)&&null===(t=await this.refreshTokens({tokens:t,username:n}))?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{let{signInDetails:n}=e,i=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return i.signInDetails=n,await this.setTokens({tokens:i}),es.dispatch("auth",{event:"tokenRefresh"},"Auth",ei),i}catch(e){return this.handleErrors(e)}}handleErrors(e){if(tN(e),e.name!==a.NetworkError&&this.clearTokens(),es.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",ei),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class nA{constructor(){this.authTokenStore=new t3,this.authTokenStore.setKeyValueStorage(en),this.tokenOrchestrator=new nv,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(nc)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}}let nC=new nA,{tokenOrchestrator:nb}=nC,nk={configure(e,t){let n=em(e),i=new j({sameSite:"lax"}),o=t?.ssr?i:en,r=t?.ssr?new tZ(new t7(i)):ne;if(!n.Auth||t?.Auth){ex.configure(n,t);return}if(!ex.libraryOptions.Auth){nC.setAuthConfig(n.Auth),nC.setKeyValueStorage(o),ex.configure(n,{...t,Auth:{tokenProvider:nC,credentialsProvider:r}});return}if(t){let e=ex.libraryOptions.Auth;void 0!==t.ssr&&(nC.setKeyValueStorage(o),e.credentialsProvider=r),ex.configure(n,{Auth:e,...t});return}ex.configure(n)},getConfig:()=>ex.getConfig()}}}]);